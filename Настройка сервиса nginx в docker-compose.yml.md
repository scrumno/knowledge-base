#nginx #docker #compose #mysql 

```yml
	# Определяем сервис с именем nginx
	# Это имя используется Docker для идентификации контейнера. Здесь настраивается веб-сервер Nginx, но может быть что угодно
	nginx:
		# Указываем, как собирать образ для сервиса nginx
		# Мы могли бы использовать image из Docker Hub, но нам нужно применить свою конфигурацию, поэтому мы используем build
	    build:
	    
		  # Задаем текущую директорию, в которой лежит docker-compose.yml как контекст сборки, откуда берутся файлы для Dockerfile
	      context: .
	      
	      # Указываем имя докер-файла, который содержит инструкции для сборки образа nginx
	      dockerfile: nginx.dockerfile
	      
	    # Пробрасываем порт между хостом и контейнером
	    # Так мы сможем обращаться к веб-серверу через http://localhost:80 на хосте (у себя на компе/сервере)
	    ports:
	      - 80:80
	        
	    # Монтируем том для синхронизации данных
	    # Они буду доступны как веб-контент nginx
	    volumes:
	      - ./src:/var/www/html
	    
	    # Указываем зависимость сервиса nginx от сервиса mysql
	    # Контейнер не запустится, пока не будет запущен контейнер mysql
	    # Это гарантирует, что MySQL будет доступен перед стартом Nginx, но не проверяет готовность MySQL к работе
	    depends_on:
	      - mysql
```

^73d2d9
